{"version":3,"file":"main.js","mappings":"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","sources":["webpack://sharkgame/./src/index.ts","webpack://sharkgame/webpack/startup"],"sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar solve = function (cavity, remaining) {\n    // Divide the target number minus 1 by 4 and take the remainder\n    // (or modulus, for the math nerds), as well as keeping the quotient handy.\n    // (18-1)/4 is 4 with a remainder of 1. This remainder is important,\n    // but so is the quotient, so keep 1 and 4 in mind.\n    debugger;\n    var target = remaining - cavity - 1;\n    var rem = target % 4;\n    var quot = Math.floor((target - 1) / 4);\n    return { rem: rem, quot: quot };\n};\nvar main = function () { return __awaiter(void 0, void 0, void 0, function () {\n    var scale, canvasContainer, hitboxes, maxWidth, maxHeight, actualWidth, actualHeight, images, scaledImages, makeImg, scaledImagesWithImages, makeCanvas, scaledImagesWithImagesWithCanvases, drawImg, state, _drawHitboxen;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                scale = 1.5;\n                canvasContainer = document.getElementById(\"shark-game\");\n                if (!canvasContainer) {\n                    throw new Error(\"Container not found\");\n                }\n                hitboxes = {\n                    ids: {},\n                    hitboxes: {},\n                };\n                maxWidth = 390;\n                maxHeight = 404;\n                actualWidth = 0;\n                actualHeight = 0;\n                images = __spreadArray([\n                    {\n                        id: \"background\",\n                        src: \"background.png\",\n                        width: 394,\n                        left: 29,\n                        top: 29,\n                    },\n                    {\n                        id: \"frame\",\n                        src: \"frame.png\",\n                        width: 448,\n                        left: 0,\n                        top: 0,\n                    },\n                    { id: \"shark\", src: \"shark.png\", width: 392, left: 30, top: 30 }\n                ], __spreadArray([], Array(20), true).map(function (_, index) {\n                    var i = index + 1;\n                    return {\n                        id: \"tooth-\".concat(i),\n                        src: i < 10 ? \"tooth_0\".concat(i, \".png\") : \"tooth_\".concat(i, \".png\"),\n                        width: 392,\n                        left: 30,\n                        top: 30,\n                    };\n                }), true);\n                scaledImages = images.map(function (_a) {\n                    var width = _a.width, left = _a.left, top = _a.top, rest = __rest(_a, [\"width\", \"left\", \"top\"]);\n                    return (__assign({ width: Math.floor(width * scale), height: Math.floor((maxHeight / maxWidth) * width * scale), left: Math.floor(left * scale), top: Math.floor(top * scale) }, rest));\n                });\n                // find the largest dimesntions and set the canvas width/height to that\n                scaledImages.forEach(function (_a) {\n                    var width = _a.width, height = _a.height;\n                    if (actualWidth < width) {\n                        actualWidth = width;\n                    }\n                    if (actualHeight < height) {\n                        actualHeight = height;\n                    }\n                });\n                canvasContainer.style.position = \"relative\";\n                canvasContainer.style.width = \"\".concat(actualWidth, \"px\");\n                canvasContainer.style.height = \"\".concat(actualHeight, \"px\");\n                makeImg = function (image) { return __awaiter(void 0, void 0, void 0, function () {\n                    var id, src, width, height, left, top, container, img;\n                    return __generator(this, function (_a) {\n                        id = image.id, src = image.src, width = image.width, height = image.height, left = image.left, top = image.top;\n                        container = document.createElement(\"div\");\n                        img = document.createElement(\"img\");\n                        img.src = \"images/\".concat(src);\n                        container.appendChild(img);\n                        return [2 /*return*/, new Promise(function (resolve) {\n                                var onLoad = function (e) {\n                                    if (id.startsWith(\"tooth\") && !hitboxes.ids[id]) {\n                                        hitboxes.ids[id] = true;\n                                        var pixelFinder = document.createElement(\"canvas\");\n                                        pixelFinder.width = actualWidth;\n                                        pixelFinder.height = actualHeight;\n                                        var pxlCtx = pixelFinder.getContext(\"2d\");\n                                        if (!pxlCtx) {\n                                            throw new Error(\"Something wonky with this context yo\");\n                                        }\n                                        pxlCtx.drawImage(img, left, top, width, height);\n                                        var imgd = pxlCtx.getImageData(0, 0, actualWidth, actualHeight);\n                                        var pix = imgd.data;\n                                        for (var x = 0; x < actualWidth; x++) {\n                                            for (var y = 0; y < actualHeight; y++) {\n                                                var index = (y * actualWidth + x) * 4;\n                                                var alpha = pix[index + 3];\n                                                if (alpha > 1) {\n                                                    hitboxes.hitboxes[\"\".concat(x, \"-\").concat(y)] = id;\n                                                }\n                                            }\n                                        }\n                                    }\n                                    resolve(__assign(__assign({}, image), { image: img }));\n                                    img.removeEventListener(\"load\", onLoad);\n                                };\n                                img.addEventListener(\"load\", onLoad);\n                            })];\n                    });\n                }); };\n                return [4 /*yield*/, Promise.all(scaledImages.map(makeImg))];\n            case 1:\n                scaledImagesWithImages = _a.sent();\n                makeCanvas = function (image) {\n                    var canvas = document.createElement(\"canvas\");\n                    canvas.style.position = \"absolute\";\n                    canvas.style.top = \"0\";\n                    canvas.style.left = \"0\";\n                    canvas.style.background = \"transparent\";\n                    canvas.width = actualWidth;\n                    canvas.height = actualHeight;\n                    var ctx = canvas.getContext(\"2d\");\n                    if (!ctx) {\n                        throw new Error(\"Something wonky with this context yo\");\n                    }\n                    ctx.imageSmoothingEnabled = false;\n                    canvasContainer.appendChild(canvas);\n                    return __assign(__assign({}, image), { canvas: canvas, ctx: ctx });\n                };\n                scaledImagesWithImagesWithCanvases = scaledImagesWithImages.map(makeCanvas);\n                drawImg = function (img) {\n                    var ctx = img.ctx, image = img.image, left = img.left, top = img.top, width = img.width, height = img.height, _a = img.tint, tint = _a === void 0 ? null : _a, clear = img.clear;\n                    if (clear) {\n                        ctx.clearRect(0, 0, actualWidth, actualHeight);\n                    }\n                    else if (tint) {\n                        var color = tint.color, _b = tint.alpha, alpha = _b === void 0 ? 0.5 : _b;\n                        var backBuffer = document.createElement(\"canvas\");\n                        backBuffer.width = actualWidth;\n                        backBuffer.height = actualHeight;\n                        var btx = backBuffer.getContext(\"2d\");\n                        if (!btx) {\n                            throw new Error(\"Something wonky with this context yo\");\n                        }\n                        btx.clearRect(0, 0, actualWidth, actualHeight);\n                        btx.drawImage(image, left, top, width, height);\n                        // Now we'll multiply a rectangle of your chosen color\n                        btx.fillStyle = color;\n                        btx.globalCompositeOperation = \"multiply\";\n                        btx.fillRect(0, 0, actualWidth, actualHeight);\n                        btx.globalAlpha = alpha;\n                        btx.globalCompositeOperation = \"destination-in\";\n                        btx.drawImage(image, left, top, width, height);\n                        ctx.drawImage(backBuffer, 0, 0, actualWidth, actualHeight);\n                    }\n                    else {\n                        ctx.drawImage(image, left, top, width, height);\n                    }\n                };\n                scaledImagesWithImagesWithCanvases.forEach(function (img) { return drawImg(img); });\n                state = { state: \"select-cavity\" };\n                canvasContainer.addEventListener(\"click\", function (e) {\n                    var canvasRect = canvasContainer.getBoundingClientRect();\n                    var x = Math.floor(e.offsetX);\n                    var y = Math.floor(e.offsetY);\n                    var hitboxId = hitboxes.hitboxes[\"\".concat(x, \"-\").concat(y)];\n                    if (hitboxId) {\n                        var image = scaledImagesWithImagesWithCanvases.find(function (_a) {\n                            var id = _a.id;\n                            return id === hitboxId;\n                        });\n                        if (image) {\n                            var target = parseInt(hitboxId.split(\"-\")[1], 10);\n                            if (state.state === \"select-cavity\") {\n                                drawImg(__assign(__assign({}, image), { tint: { color: \"#F00000\", alpha: 0.3 } }));\n                                state = { state: \"select-tooth\", cavity: target, selected: null };\n                            }\n                            else if (target < state.cavity &&\n                                (state.selected == null || state.selected < target)) {\n                                var _loop_1 = function (i) {\n                                    var image_1 = scaledImagesWithImagesWithCanvases.find(function (_a) {\n                                        var id = _a.id;\n                                        return id === \"tooth-\".concat(i);\n                                    });\n                                    if (image_1) {\n                                        drawImg(__assign(__assign({}, image_1), { clear: true }));\n                                    }\n                                };\n                                // Hide all teeth up to this one\n                                for (var i = 1; i <= target; i++) {\n                                    _loop_1(i);\n                                }\n                                if (target + 1 === state.cavity) {\n                                    state = {\n                                        state: \"win\",\n                                        cavity: state.cavity,\n                                        selected: target,\n                                    };\n                                }\n                                else {\n                                    state = {\n                                        state: \"select-tooth\",\n                                        cavity: state.cavity,\n                                        selected: target,\n                                    };\n                                }\n                            }\n                        }\n                        var instructionsContent = document.getElementById(\"instructions-content\");\n                        if (!instructionsContent) {\n                            throw new Error(\"Instructions content area not found\");\n                        }\n                        switch (state.state) {\n                            case \"select-cavity\": {\n                                instructionsContent.textContent = \"Select the tooth with the cavity!\";\n                                break;\n                            }\n                            case \"select-tooth\": {\n                                // TODO: Try to always count from the same side.\n                                var rem = solve(21 - state.cavity, 21 - (state.selected || 0)).rem;\n                                instructionsContent.textContent = \"Select the currently played tooth!\\nIf it's your turn, then play \".concat(rem || 1, \"!\");\n                                break;\n                            }\n                            case \"win\": {\n                                instructionsContent.textContent = \"If it's your turn, then you've won!\";\n                                break;\n                            }\n                        }\n                    }\n                });\n                _drawHitboxen = function () {\n                    var canvas = document.createElement(\"canvas\");\n                    canvas.style.position = \"absolute\";\n                    canvas.style.top = \"0\";\n                    canvas.style.left = \"0\";\n                    canvas.style.background = \"transparent\";\n                    canvas.width = actualWidth;\n                    canvas.height = actualHeight;\n                    var ctx = canvas.getContext(\"2d\");\n                    if (!ctx) {\n                        throw new Error(\"Something wonky with this context yo\");\n                    }\n                    ctx.imageSmoothingEnabled = false;\n                    var img = ctx.getImageData(0, 0, actualWidth, actualHeight);\n                    var data = img.data;\n                    for (var hitboxId in hitboxes.hitboxes) {\n                        var _a = hitboxId.split(\"-\"), x = _a[0], y = _a[1];\n                        var index = parseInt(y, 10) * actualWidth + parseInt(x, 10);\n                        console.log({ x: x, y: y, index: index });\n                        data[index * 4] = 255;\n                        data[index * 4 + 3] = 255;\n                    }\n                    ctx.putImageData(img, 0, 0);\n                    canvasContainer.appendChild(canvas);\n                };\n                return [2 /*return*/];\n        }\n    });\n}); };\nmain();\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = {};\n__webpack_modules__[607]();\n"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","push","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__spreadArray","to","from","pack","ar","l","Array","slice","concat","scale","canvasContainer","hitboxes","actualWidth","actualHeight","images","scaledImages","makeImg","scaledImagesWithImages","makeCanvas","scaledImagesWithImagesWithCanvases","drawImg","state","_a","document","getElementById","Error","ids","id","src","width","left","top","map","index","rest","Math","floor","height","forEach","style","position","image","container","img","createElement","appendChild","onLoad","startsWith","pixelFinder","pxlCtx","getContext","drawImage","pix","getImageData","data","x","removeEventListener","addEventListener","all","canvas","background","ctx","imageSmoothingEnabled","tint","clear","clearRect","color","_b","alpha","backBuffer","btx","fillStyle","globalCompositeOperation","fillRect","globalAlpha","getBoundingClientRect","offsetX","offsetY","hitboxId","find","target","parseInt","split","cavity","selected","_loop_1","image_1","instructionsContent","textContent","rem","remaining","quot","solve"],"sourceRoot":""}